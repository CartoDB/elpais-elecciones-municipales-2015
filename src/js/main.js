var catsData = {"rows":[{"cat":1},{"cat":2},{"cat":3},{"cat":4},{"cat":5},{"cat":6}],"time":0.009,"fields":{"cat":{"type":"number"}},"total_rows":6};

var twitterData = {
  "rows": [
    {
      "counts": 1,
      "date": "2015-05-19T17:59:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T17:59:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T17:59:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:00:00Z",
      "cat": 1
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:00:00Z",
      "cat": 2
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:00:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:00:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:00:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:00:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:01:00Z",
      "cat": 1
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:01:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:01:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:01:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:01:00Z",
      "cat": 5
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:01:00Z",
      "cat": 6
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:02:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:02:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:02:00Z",
      "cat": 3
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:02:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:02:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:02:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:03:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:03:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:03:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:03:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:03:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:03:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:04:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:04:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:04:00Z",
      "cat": 3
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:04:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:04:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:04:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:05:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:05:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:05:00Z",
      "cat": 4
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:05:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:05:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:06:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:06:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:06:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:06:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:06:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:06:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:07:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:07:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:07:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:07:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:07:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:07:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:08:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:08:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:08:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:08:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:08:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:08:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:09:00Z",
      "cat": 1
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:09:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:09:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:09:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:09:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:09:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:10:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:10:00Z",
      "cat": 2
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:10:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:10:00Z",
      "cat": 4
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:10:00Z",
      "cat": 5
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:10:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:11:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:11:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:11:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:11:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:11:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:11:00Z",
      "cat": 6
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:12:00Z",
      "cat": 1
    },
    {
      "counts": 10,
      "date": "2015-05-19T18:12:00Z",
      "cat": 2
    },
    {
      "counts": 10,
      "date": "2015-05-19T18:12:00Z",
      "cat": 3
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:12:00Z",
      "cat": 4
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:12:00Z",
      "cat": 5
    },
    {
      "counts": 10,
      "date": "2015-05-19T18:12:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:13:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:13:00Z",
      "cat": 2
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:13:00Z",
      "cat": 3
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:13:00Z",
      "cat": 4
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:13:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:13:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:14:00Z",
      "cat": 1
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:14:00Z",
      "cat": 2
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:14:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:14:00Z",
      "cat": 4
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:14:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:14:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:15:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:15:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:15:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:15:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:15:00Z",
      "cat": 6
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:16:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:16:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:16:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:16:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:16:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:16:00Z",
      "cat": 6
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:17:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:17:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:17:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:17:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:17:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:17:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:18:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:18:00Z",
      "cat": 2
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:18:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:18:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:18:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:18:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:19:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:19:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:19:00Z",
      "cat": 3
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:19:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:19:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:19:00Z",
      "cat": 6
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:20:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:20:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:20:00Z",
      "cat": 3
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:20:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:20:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:20:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:21:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:21:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:21:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:21:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:21:00Z",
      "cat": 5
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:21:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:22:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:22:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:22:00Z",
      "cat": 3
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:22:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:22:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:22:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:23:00Z",
      "cat": 1
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:23:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:23:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:23:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:23:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:23:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:24:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:24:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:24:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:24:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:25:00Z",
      "cat": 1
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:25:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:25:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:25:00Z",
      "cat": 4
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:25:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:25:00Z",
      "cat": 6
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:26:00Z",
      "cat": 1
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:26:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:26:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:26:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:26:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:26:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:27:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:27:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:27:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:27:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:27:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:28:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:28:00Z",
      "cat": 3
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:28:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:28:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:28:00Z",
      "cat": 6
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:29:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:29:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:29:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:29:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:29:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:29:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:30:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:30:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:30:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:30:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:30:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:30:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:31:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:31:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:31:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:31:00Z",
      "cat": 4
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:31:00Z",
      "cat": 5
    },
    {
      "counts": 11,
      "date": "2015-05-19T18:31:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:32:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:32:00Z",
      "cat": 2
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:32:00Z",
      "cat": 3
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:32:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:32:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:32:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:33:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:33:00Z",
      "cat": 2
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:33:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:33:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:33:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:33:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:34:00Z",
      "cat": 1
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:34:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:34:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:34:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:34:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:34:00Z",
      "cat": 6
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:35:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:35:00Z",
      "cat": 2
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:35:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:35:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:35:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:35:00Z",
      "cat": 6
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:36:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:36:00Z",
      "cat": 2
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:36:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:36:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:36:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:36:00Z",
      "cat": 6
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:37:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:37:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:37:00Z",
      "cat": 3
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:37:00Z",
      "cat": 4
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:37:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:37:00Z",
      "cat": 6
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:38:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:38:00Z",
      "cat": 2
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:38:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:38:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:38:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:38:00Z",
      "cat": 6
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:39:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:39:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:39:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:39:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:39:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:39:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:40:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:40:00Z",
      "cat": 2
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:40:00Z",
      "cat": 3
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:40:00Z",
      "cat": 4
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:40:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:40:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:41:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:41:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:41:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:41:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:41:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:41:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:42:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:42:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:42:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:42:00Z",
      "cat": 5
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:42:00Z",
      "cat": 6
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:43:00Z",
      "cat": 1
    },
    {
      "counts": 10,
      "date": "2015-05-19T18:43:00Z",
      "cat": 2
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:43:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:43:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:43:00Z",
      "cat": 5
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:43:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:44:00Z",
      "cat": 1
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:44:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:44:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:44:00Z",
      "cat": 4
    },
    {
      "counts": 15,
      "date": "2015-05-19T18:44:00Z",
      "cat": 5
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:44:00Z",
      "cat": 6
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:45:00Z",
      "cat": 1
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:45:00Z",
      "cat": 2
    },
    {
      "counts": 12,
      "date": "2015-05-19T18:45:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:45:00Z",
      "cat": 4
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:45:00Z",
      "cat": 5
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:45:00Z",
      "cat": 6
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:46:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:46:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:46:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:46:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:46:00Z",
      "cat": 5
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:46:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:47:00Z",
      "cat": 1
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:47:00Z",
      "cat": 2
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:47:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:47:00Z",
      "cat": 4
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:47:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:47:00Z",
      "cat": 6
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:48:00Z",
      "cat": 1
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:48:00Z",
      "cat": 2
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:48:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:48:00Z",
      "cat": 4
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:48:00Z",
      "cat": 5
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:48:00Z",
      "cat": 6
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:49:00Z",
      "cat": 1
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:49:00Z",
      "cat": 2
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:49:00Z",
      "cat": 3
    },
    {
      "counts": 6,
      "date": "2015-05-19T18:49:00Z",
      "cat": 4
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:49:00Z",
      "cat": 5
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:49:00Z",
      "cat": 6
    },
    {
      "counts": 7,
      "date": "2015-05-19T18:50:00Z",
      "cat": 1
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:50:00Z",
      "cat": 2
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:50:00Z",
      "cat": 3
    },
    {
      "counts": 4,
      "date": "2015-05-19T18:50:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:50:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:50:00Z",
      "cat": 6
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:51:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:51:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:51:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:51:00Z",
      "cat": 4
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:51:00Z",
      "cat": 6
    },
    {
      "counts": 8,
      "date": "2015-05-19T18:52:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:52:00Z",
      "cat": 2
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:52:00Z",
      "cat": 3
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:52:00Z",
      "cat": 4
    },
    {
      "counts": 5,
      "date": "2015-05-19T18:52:00Z",
      "cat": 5
    },
    {
      "counts": 2,
      "date": "2015-05-19T18:52:00Z",
      "cat": 6
    },
    {
      "counts": 1,
      "date": "2015-05-19T18:53:00Z",
      "cat": 1
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:53:00Z",
      "cat": 2
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:53:00Z",
      "cat": 3
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:53:00Z",
      "cat": 4
    },
    {
      "counts": 9,
      "date": "2015-05-19T18:53:00Z",
      "cat": 5
    },
    {
      "counts": 3,
      "date": "2015-05-19T18:53:00Z",
      "cat": 6
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:54:00Z",
      "cat": 1
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:54:00Z",
      "cat": 2
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:54:00Z",
      "cat": 3
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:54:00Z",
      "cat": 4
    },
    {
      "counts": 12,
      "date": "2015-05-19T18:54:00Z",
      "cat": 5
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:54:00Z",
      "cat": 6
    },
    {
      "counts": 30,
      "date": "2015-05-19T18:55:00Z",
      "cat": 1
    },
    {
      "counts": 20,
      "date": "2015-05-19T18:55:00Z",
      "cat": 2
    },
    {
      "counts": 20,
      "date": "2015-05-19T18:55:00Z",
      "cat": 3
    },
    {
      "counts": 22,
      "date": "2015-05-19T18:55:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T18:55:00Z",
      "cat": 5
    },
    {
      "counts": 21,
      "date": "2015-05-19T18:55:00Z",
      "cat": 6
    },
    {
      "counts": 30,
      "date": "2015-05-19T18:56:00Z",
      "cat": 1
    },
    {
      "counts": 22,
      "date": "2015-05-19T18:56:00Z",
      "cat": 2
    },
    {
      "counts": 34,
      "date": "2015-05-19T18:56:00Z",
      "cat": 3
    },
    {
      "counts": 39,
      "date": "2015-05-19T18:56:00Z",
      "cat": 4
    },
    {
      "counts": 31,
      "date": "2015-05-19T18:56:00Z",
      "cat": 5
    },
    {
      "counts": 16,
      "date": "2015-05-19T18:56:00Z",
      "cat": 6
    },
    {
      "counts": 24,
      "date": "2015-05-19T18:57:00Z",
      "cat": 1
    },
    {
      "counts": 25,
      "date": "2015-05-19T18:57:00Z",
      "cat": 2
    },
    {
      "counts": 25,
      "date": "2015-05-19T18:57:00Z",
      "cat": 3
    },
    {
      "counts": 24,
      "date": "2015-05-19T18:57:00Z",
      "cat": 4
    },
    {
      "counts": 24,
      "date": "2015-05-19T18:57:00Z",
      "cat": 5
    },
    {
      "counts": 34,
      "date": "2015-05-19T18:57:00Z",
      "cat": 6
    },
    {
      "counts": 24,
      "date": "2015-05-19T18:58:00Z",
      "cat": 1
    },
    {
      "counts": 35,
      "date": "2015-05-19T18:58:00Z",
      "cat": 2
    },
    {
      "counts": 28,
      "date": "2015-05-19T18:58:00Z",
      "cat": 3
    },
    {
      "counts": 27,
      "date": "2015-05-19T18:58:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T18:58:00Z",
      "cat": 5
    },
    {
      "counts": 30,
      "date": "2015-05-19T18:58:00Z",
      "cat": 6
    },
    {
      "counts": 27,
      "date": "2015-05-19T18:59:00Z",
      "cat": 1
    },
    {
      "counts": 41,
      "date": "2015-05-19T18:59:00Z",
      "cat": 2
    },
    {
      "counts": 29,
      "date": "2015-05-19T18:59:00Z",
      "cat": 3
    },
    {
      "counts": 36,
      "date": "2015-05-19T18:59:00Z",
      "cat": 4
    },
    {
      "counts": 24,
      "date": "2015-05-19T18:59:00Z",
      "cat": 5
    },
    {
      "counts": 30,
      "date": "2015-05-19T18:59:00Z",
      "cat": 6
    },
    {
      "counts": 32,
      "date": "2015-05-19T19:00:00Z",
      "cat": 1
    },
    {
      "counts": 29,
      "date": "2015-05-19T19:00:00Z",
      "cat": 2
    },
    {
      "counts": 32,
      "date": "2015-05-19T19:00:00Z",
      "cat": 3
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:00:00Z",
      "cat": 4
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:00:00Z",
      "cat": 5
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:00:00Z",
      "cat": 6
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:01:00Z",
      "cat": 1
    },
    {
      "counts": 35,
      "date": "2015-05-19T19:01:00Z",
      "cat": 2
    },
    {
      "counts": 35,
      "date": "2015-05-19T19:01:00Z",
      "cat": 3
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:01:00Z",
      "cat": 4
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:01:00Z",
      "cat": 5
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:01:00Z",
      "cat": 6
    },
    {
      "counts": 29,
      "date": "2015-05-19T19:02:00Z",
      "cat": 1
    },
    {
      "counts": 36,
      "date": "2015-05-19T19:02:00Z",
      "cat": 2
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:02:00Z",
      "cat": 3
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:02:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:02:00Z",
      "cat": 5
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:02:00Z",
      "cat": 6
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:03:00Z",
      "cat": 1
    },
    {
      "counts": 18,
      "date": "2015-05-19T19:03:00Z",
      "cat": 2
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:03:00Z",
      "cat": 3
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:03:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:03:00Z",
      "cat": 5
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:03:00Z",
      "cat": 6
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:04:00Z",
      "cat": 1
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:04:00Z",
      "cat": 2
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:04:00Z",
      "cat": 3
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:04:00Z",
      "cat": 4
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:04:00Z",
      "cat": 5
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:04:00Z",
      "cat": 6
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:05:00Z",
      "cat": 1
    },
    {
      "counts": 38,
      "date": "2015-05-19T19:05:00Z",
      "cat": 2
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:05:00Z",
      "cat": 3
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:05:00Z",
      "cat": 4
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:05:00Z",
      "cat": 5
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:05:00Z",
      "cat": 6
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:06:00Z",
      "cat": 1
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:06:00Z",
      "cat": 2
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:06:00Z",
      "cat": 3
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:06:00Z",
      "cat": 4
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:06:00Z",
      "cat": 5
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:06:00Z",
      "cat": 6
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:07:00Z",
      "cat": 1
    },
    {
      "counts": 15,
      "date": "2015-05-19T19:07:00Z",
      "cat": 2
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:07:00Z",
      "cat": 3
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:07:00Z",
      "cat": 4
    },
    {
      "counts": 29,
      "date": "2015-05-19T19:07:00Z",
      "cat": 5
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:07:00Z",
      "cat": 6
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:08:00Z",
      "cat": 1
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:08:00Z",
      "cat": 2
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:08:00Z",
      "cat": 3
    },
    {
      "counts": 38,
      "date": "2015-05-19T19:08:00Z",
      "cat": 4
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:08:00Z",
      "cat": 5
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:08:00Z",
      "cat": 6
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:09:00Z",
      "cat": 1
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:09:00Z",
      "cat": 2
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:09:00Z",
      "cat": 3
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:09:00Z",
      "cat": 4
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:09:00Z",
      "cat": 5
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:09:00Z",
      "cat": 6
    },
    {
      "counts": 13,
      "date": "2015-05-19T19:10:00Z",
      "cat": 1
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:10:00Z",
      "cat": 2
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:10:00Z",
      "cat": 3
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:10:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:10:00Z",
      "cat": 5
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:10:00Z",
      "cat": 6
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:11:00Z",
      "cat": 1
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:11:00Z",
      "cat": 2
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:11:00Z",
      "cat": 3
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:11:00Z",
      "cat": 4
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:11:00Z",
      "cat": 5
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:11:00Z",
      "cat": 6
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:12:00Z",
      "cat": 1
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:12:00Z",
      "cat": 2
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:12:00Z",
      "cat": 3
    },
    {
      "counts": 12,
      "date": "2015-05-19T19:12:00Z",
      "cat": 4
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:12:00Z",
      "cat": 5
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:12:00Z",
      "cat": 6
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:13:00Z",
      "cat": 1
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:13:00Z",
      "cat": 2
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:13:00Z",
      "cat": 3
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:13:00Z",
      "cat": 4
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:13:00Z",
      "cat": 5
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:13:00Z",
      "cat": 6
    },
    {
      "counts": 33,
      "date": "2015-05-19T19:14:00Z",
      "cat": 1
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:14:00Z",
      "cat": 2
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:14:00Z",
      "cat": 3
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:14:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:14:00Z",
      "cat": 5
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:14:00Z",
      "cat": 6
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:15:00Z",
      "cat": 1
    },
    {
      "counts": 27,
      "date": "2015-05-19T19:15:00Z",
      "cat": 2
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:15:00Z",
      "cat": 3
    },
    {
      "counts": 14,
      "date": "2015-05-19T19:15:00Z",
      "cat": 4
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:15:00Z",
      "cat": 5
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:15:00Z",
      "cat": 6
    },
    {
      "counts": 31,
      "date": "2015-05-19T19:16:00Z",
      "cat": 1
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:16:00Z",
      "cat": 2
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:16:00Z",
      "cat": 3
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:16:00Z",
      "cat": 4
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:16:00Z",
      "cat": 5
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:16:00Z",
      "cat": 6
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:17:00Z",
      "cat": 1
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:17:00Z",
      "cat": 2
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:17:00Z",
      "cat": 3
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:17:00Z",
      "cat": 4
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:17:00Z",
      "cat": 5
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:17:00Z",
      "cat": 6
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:18:00Z",
      "cat": 1
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:18:00Z",
      "cat": 2
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:18:00Z",
      "cat": 3
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:18:00Z",
      "cat": 4
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:18:00Z",
      "cat": 5
    },
    {
      "counts": 11,
      "date": "2015-05-19T19:18:00Z",
      "cat": 6
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:19:00Z",
      "cat": 1
    },
    {
      "counts": 33,
      "date": "2015-05-19T19:19:00Z",
      "cat": 2
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:19:00Z",
      "cat": 3
    },
    {
      "counts": 21,
      "date": "2015-05-19T19:19:00Z",
      "cat": 4
    },
    {
      "counts": 18,
      "date": "2015-05-19T19:19:00Z",
      "cat": 5
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:19:00Z",
      "cat": 6
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:20:00Z",
      "cat": 1
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:20:00Z",
      "cat": 2
    },
    {
      "counts": 18,
      "date": "2015-05-19T19:20:00Z",
      "cat": 3
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:20:00Z",
      "cat": 4
    },
    {
      "counts": 29,
      "date": "2015-05-19T19:20:00Z",
      "cat": 5
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:20:00Z",
      "cat": 6
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:21:00Z",
      "cat": 1
    },
    {
      "counts": 18,
      "date": "2015-05-19T19:21:00Z",
      "cat": 2
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:21:00Z",
      "cat": 3
    },
    {
      "counts": 39,
      "date": "2015-05-19T19:21:00Z",
      "cat": 4
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:21:00Z",
      "cat": 5
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:21:00Z",
      "cat": 6
    },
    {
      "counts": 18,
      "date": "2015-05-19T19:22:00Z",
      "cat": 1
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:22:00Z",
      "cat": 2
    },
    {
      "counts": 15,
      "date": "2015-05-19T19:22:00Z",
      "cat": 3
    },
    {
      "counts": 10,
      "date": "2015-05-19T19:22:00Z",
      "cat": 4
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:22:00Z",
      "cat": 5
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:22:00Z",
      "cat": 6
    },
    {
      "counts": 29,
      "date": "2015-05-19T19:23:00Z",
      "cat": 1
    },
    {
      "counts": 14,
      "date": "2015-05-19T19:23:00Z",
      "cat": 2
    },
    {
      "counts": 22,
      "date": "2015-05-19T19:23:00Z",
      "cat": 3
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:23:00Z",
      "cat": 4
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:23:00Z",
      "cat": 5
    },
    {
      "counts": 17,
      "date": "2015-05-19T19:23:00Z",
      "cat": 6
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:24:00Z",
      "cat": 1
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:24:00Z",
      "cat": 2
    },
    {
      "counts": 24,
      "date": "2015-05-19T19:24:00Z",
      "cat": 3
    },
    {
      "counts": 28,
      "date": "2015-05-19T19:24:00Z",
      "cat": 4
    },
    {
      "counts": 30,
      "date": "2015-05-19T19:24:00Z",
      "cat": 5
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:24:00Z",
      "cat": 6
    },
    {
      "counts": 23,
      "date": "2015-05-19T19:25:00Z",
      "cat": 1
    },
    {
      "counts": 26,
      "date": "2015-05-19T19:25:00Z",
      "cat": 2
    },
    {
      "counts": 20,
      "date": "2015-05-19T19:25:00Z",
      "cat": 3
    },
    {
      "counts": 25,
      "date": "2015-05-19T19:25:00Z",
      "cat": 4
    },
    {
      "counts": 19,
      "date": "2015-05-19T19:25:00Z",
      "cat": 5
    },
    {
      "counts": 15,
      "date": "2015-05-19T19:25:00Z",
      "cat": 6
    },
    {
      "counts": 10,
      "date": "2015-05-19T19:26:00Z",
      "cat": 1
    },
    {
      "counts": 16,
      "date": "2015-05-19T19:26:00Z",
      "cat": 2
    },
    {
      "counts": 14,
      "date": "2015-05-19T19:26:00Z",
      "cat": 3
    },
    {
      "counts": 7,
      "date": "2015-05-19T19:26:00Z",
      "cat": 4
    },
    {
      "counts": 12,
      "date": "2015-05-19T19:26:00Z",
      "cat": 5
    },
    {
      "counts": 8,
      "date": "2015-05-19T19:26:00Z",
      "cat": 6
    }
  ],
  "time": 0.074,
  "fields": {
    "counts": {
      "type": "number"
    },
    "date": {
      "type": "date"
    },
    "cat": {
      "type": "number"
    }
  },
  "total_rows": 517
};


var sql = new cartodb.SQL({ 
    user: 'jsanz'
  });

var selector = '.graph';
var twitterTable = 'twitter_test';
var groupDate = 'MINUTE';
var afterTime = '2015-01-01';
var partiesData = {
  '1' : {name : 'PSOE', color : '#cd1f25'},
  '2' : {name : 'Partido Popular', color : '#5ca2dc'},
  '3' : {name : 'Izquierda Unida', color : '#aa0028'},
  '4' : {name : 'Ciudadanos', color : '#fe6d2c'},
  '5' : {name : 'Podemos', color : '#593561'},
  '6' : {name : 'Union Progreso y Democracia', color : '#c3007f'}
};

function main() {
  var sqlStm = 'SELECT COUNT(*) counts, date_trunc(\'{{groupDate}}\',postedtime) date, category_name cat FROM ' + twitterTable + ' WHERE postedtime > \'{{afterTime}}\'::DATE GROUP BY 2,3 ORDER BY 2,3 ASC';
  
  /*sql.execute(sqlStm,{groupDate : groupDate, afterTime : afterTime })
    .done(function(twitterData){
      sql.execute('SELECT DISTINCT(category_name) cat FROM ' + twitterTable + ' ORDER BY category_name')
        .done(function(catsData){*/
            var lineClasses = [];
            catsData.rows.forEach(function(catRow){
              var catName = catRow.cat;
              lineClasses.push(
                lineData(
                  catName,
                  twitterData.rows.filter(function(twiterRow){
                    return twiterRow.cat == catName
                  })
                )
              );
            });
            // ready to call the graph constructor
            createGraph(lineClasses);
  /*      })
        .error(logErrors);
    })
  .error(logErrors);*/
}

function logErrors(errors){
  console.log(errors);
}

function lineData(catName, twitterData){
  var values = [];
  twitterData.forEach(function(twitt){
    var date = +d3.time.format.iso.parse(twitt.date);
    values.push({
      x : +date,
      y : twitt.counts
    });
  });
  return {
    key    : partiesData[catName].name,
    color  : partiesData[catName].color,
    values : values,
    area   : true
  }
};

/*
 NDV3 code to generate line and bar graphs
*/

function createGraph(lineClasses){

  nv.addGraph(function() {
    var chart = nv.models.lineChart()
      .margin({left: 0, right: 0, top: 0, bottom: 0})  // Adjust chart margins to give the x-axis some breathing room.
      //.useInteractiveGuideline(true)  //We want nice looking tooltips and a guideline!
      //.transitionDuration(350)  //how fast do you want the lines to transition?
      .showLegend(false)       //Show the legend, allowing users to turn on/off line series.
      .showYAxis(false)        //Show the y-axis
      .showXAxis(true)        //Show the x-axis
      .interpolate('basis')
      .xScale(d3.time.scale());

    chart.xAxis     //Chart x-axis settings
        .tickFormat(function(d) {
              return d3.time.format('%H:%M')(new Date(d))
            });

    chart._options.tooltipContent = function (a,b,c){return"<p>"+c+"</p>"};

    d3.select(selector)
          .append('svg')    //Select the <svg> element you want to render the chart in.   
          .datum(lineClasses)         //Populate the <svg> element with chart data...
          .call(chart);      //Finally, render the chart!

    //Update the chart when window resizes.
    nv.utils.windowResize(function() { chart.update() });  
    
    return chart;
  });// nv.addGraph
}; // Create Graph

window.onload = main;
